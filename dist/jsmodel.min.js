/**
 * Created by MPoreda on 08.12.2017.
 */
function jsModel(r,e){function n(r,e){if(console.log(e),e){n=[];Object.defineProperty(n,"appendData",{enumerable:!1,configurable:!1,writable:!1,value:function(r){this.push(r)}})}else var n=a();var t=new XMLHttpRequest;return t.open("GET",r,!0),t.onload=function(r){if(4===t.readyState)if(200===t.status){var i=JSON.parse(t.responseText);if(e){if(Array.isArray(i))for(var o in i)n.appendData(a(i[o]))}else Array.isArray(i)||n.writeData(i)}else console.error(t.statusText)},t.onerror=function(r){console.error(t.statusText)},t.send(null),n}function a(r){var e={};if(r)for(var n in r)e[n]=r[n];return Object.defineProperty(e,"writeData",{enumerable:!1,configurable:!1,writable:!1,value:function(r){for(var e in r)this[e]=r[e]}}),e}var r=r,e=e;return{query:function(a){var t=r;if(a)for(var i in e)for(var o in a)i==o&&(t=t.replace("/:"+i,"/"+a[o]));else for(var i in e)t=t.replace("/:"+i,"");return n(t,!0)},get:function(a){var t=r;if(a)for(var i in e)for(var o in a)i==o&&(t=t.replace("/:"+i,"/"+a[o]));else for(var i in e)t=t.replace("/:"+i,"");return n(t)}}}